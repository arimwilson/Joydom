(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),s=n(13),r=n.n(s),i=(n(18),n(8)),o=n(9),l=n(11),d=n(10),u=(n(19),n(7)),j=(n(21),n(27),n(2));u.a.apps.length?u.a.app():u.a.initializeApp({apiKey:"AIzaSyBNt5XW7vVOK7-AVFtIA-jTX9LxE3S9QSs",authDomain:"joydominoes.firebaseapp.com",databaseURL:"https://joydominoes-default-rtdb.firebaseio.com",projectId:"joydominoes",storageBucket:"joydominoes.appspot.com",messagingSenderId:"625206870515",appId:"1:625206870515:web:372103b2c9fc38a0ca5286",measurementId:"G-CQW9QZ18RV"});var h,b=u.a.database(),p=u.a.functions();if("localhost"===window.location.hostname||window.location.hostname.startsWith("192.168.0")){var m=window.location.hostname;p.useFunctionsEmulator("http://".concat(m,":5001")),b.useEmulator("".concat(m),9e3)}var O=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={game:null},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=this,a=p.httpsCallable("startGame"),c=(e=0,t=1e3,Math.floor(Math.random()*(t-e)+e));null===(h=prompt("Game id? ",c))&&(h=c);var s=prompt("Number of players? ","4");null===s&&(s="4"),a({gameId:h,numPlayers:parseInt(s)}).then((function(e){p.httpsCallable("startRound")({gameId:h}).then((function(e){b.ref("game/".concat(h)).on("value",(function(e){n.setState({game:e.val()})}),(function(e){console.log(e)}))})).catch((function(e){alert("Code: ".concat(e.code,". Message: ").concat(e.message))}))})).catch((function(e){alert("Code: ".concat(e.code,". Message: ").concat(e.message))}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{children:Object(j.jsxs)("h2",{children:["Joyce Dominoes Game ",h]})}),null!==this.state.game&&Object(j.jsxs)("div",{children:[Object(j.jsx)("section",{className:"GameInfo",children:Object(j.jsx)(f,{currentDouble:this.state.game.currentDouble,unusedDoubles:this.state.game.unusedDoubles,turn:this.state.game.turn})}),Object(j.jsx)("section",{className:"Playfield",children:Object(j.jsx)(x,{players:this.state.game.players,currentPlayer:this.state.game.currentPlayer})}),Object(j.jsx)("section",{className:"Hand",children:Object(j.jsx)(C,{currentPlayer:this.state.game.currentPlayer,players:this.state.game.players})})]})]})}}]),n}(c.a.Component),f=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Round"}),": Double: ",this.props.currentDouble,", Turn: ",this.props.turn,", Unused: ",this.props.unusedDoubles]})}}]),n}(c.a.Component);var x=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e,t=this.props.players.map((e=this.props.currentPlayer,function(t){var n="line"in t?t.line.map((function(e){return null!==e?Object(j.jsxs)("span",{children:[e.end1,e.end2," "]}):void 0})):Object(j.jsx)("div",{children:"empty"}),a=t.name===e;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:a?Object(j.jsx)("u",{children:t.name}):t.name}),Object(j.jsx)("td",{children:t.score}),Object(j.jsx)("td",{children:t.penny?"yes":"no"}),Object(j.jsx)("td",{children:"walking"in t?t.walking:"no"}),Object(j.jsx)("td",{children:n})]})}));return Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Lines:"}),Object(j.jsxs)("table",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Score"}),Object(j.jsx)("th",{children:"Penny?"}),Object(j.jsx)("th",{children:"Walking?"}),Object(j.jsx)("th",{style:{whiteSpace:"nowrap"},children:"Line"})]}),t]})]})}}]),n}(c.a.Component),y=1,g=2,v=3,k=4,C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleClick=function(e){var t=e.target.textContent,n=p.httpsCallable("takeAction"),c={gameId:h,action:y};if("Draw"===t)c.action=g;else if("Pass"===t)c.action=v;else if("Pass/end turn"===t)c.action=v;else if("Walking"===t)c.action=k;else if(c.tile=Number(t),c.line=prompt("Which line (1-".concat(a.props.players.length,")?")),null===c.line)return;n(c).then((function(e){})).catch((function(e){alert("Code: ".concat(e.code,". Message: ").concat(e.message))}))},a.state={tilesPlayed:[],walking:!1},a}return Object(o.a)(n,[{key:"render",value:function(){for(var e=this,t=0;t<this.props.players.length;t++)if(this.props.players[t].name===this.props.currentPlayer){var n=function(){var n=e.handleClick,a="empty";return"hand"in e.props.players[t]&&(a=e.props.players[t].hand.map((function(e){return Object(j.jsx)("td",{children:Object(j.jsxs)("button",{onClick:n,children:[e.end1,e.end2]})})}))),{v:Object(j.jsxs)("p",{children:[Object(j.jsxs)("b",{children:[e.props.currentPlayer,"'s hand:"]}),Object(j.jsx)("table",{children:Object(j.jsx)("tr",{children:a})}),Object(j.jsx)("table",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("button",{onClick:e.handleClick,children:"Draw"})}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{onClick:e.handleClick,children:"Pass/end turn"})}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{onClick:e.handleClick,children:"Walking"})})]})})]})}}();if("object"===typeof n)return n.v}}}]),n}(c.a.Component),w=O,P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root")),P()}},[[26,1,2]]]);
//# sourceMappingURL=main.880240a8.chunk.js.map